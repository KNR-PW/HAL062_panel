\hypertarget{buttons_8c}{}\doxysection{C\+:/\+Users/ddd/\+Desktop/driver/\+HAL-\/062/\+SUB-\/\+HAL-\/062-\/panel/\+HAL062\+\_\+panel/\+Modules/buttons/buttons.c File Reference}
\label{buttons_8c}\index{C:/Users/ddd/Desktop/driver/HAL-\/062/SUB-\/HAL-\/062-\/panel/HAL062\_panel/Modules/buttons/buttons.c@{C:/Users/ddd/Desktop/driver/HAL-\/062/SUB-\/HAL-\/062-\/panel/HAL062\_panel/Modules/buttons/buttons.c}}


Buttons functionality.  


{\ttfamily \#include \char`\"{}buttons.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}buttons\+\_\+const.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}LED\+\_\+switch/\+LED\+\_\+switch.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}LED\+\_\+switch/\+LED\+\_\+const.\+h\char`\"{}}\newline
{\ttfamily \#include $<$stm32h7xx\+\_\+hal\+\_\+gpio.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{buttons_8c_adb18d3583167cb98279e029bfe1c696b}\label{buttons_8c_adb18d3583167cb98279e029bfe1c696b}} 
void {\bfseries Buttons\+\_\+\+Init} (void)
\begin{DoxyCompactList}\small\item\em Initializes GPIO ports and inputs for buttons. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{buttons_8c_aa6f14b96c46b9c49fb96af8ff1533dc9}{Set\+\_\+\+LED\+\_\+\+For\+\_\+\+Bistable}} (void)
\begin{DoxyCompactList}\small\item\em Sets LED lights state depending on bistable button. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{buttons_8c_a4aee6db188db234c1dcf4d17cc24eb03}\label{buttons_8c_a4aee6db188db234c1dcf4d17cc24eb03}} 
void {\bfseries ADC1\+\_\+\+Init} (void)
\begin{DoxyCompactList}\small\item\em Initializes ADC module. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{buttons_8c_aacd13f1f53d923ead9283aa09366ef07}\label{buttons_8c_aacd13f1f53d923ead9283aa09366ef07}} 
void {\bfseries ADC\+\_\+\+Try\+\_\+\+Read} (void)
\begin{DoxyCompactList}\small\item\em Reads value from potentiometer. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{buttons_8c_a738473a5b43f6c92b80ce1d3d6f77ed9}\label{buttons_8c_a738473a5b43f6c92b80ce1d3d6f77ed9}} 
void {\bfseries EXTI15\+\_\+10\+\_\+\+IRQHandler} (void)
\item 
\mbox{\Hypertarget{buttons_8c_a290cb997018c8d85d4b965b4a242842f}\label{buttons_8c_a290cb997018c8d85d4b965b4a242842f}} 
void {\bfseries EXTI4\+\_\+\+IRQHandler} (void)
\item 
\mbox{\Hypertarget{buttons_8c_a7b2096b8b2643286dc3a7e5110e5ae85}\label{buttons_8c_a7b2096b8b2643286dc3a7e5110e5ae85}} 
void {\bfseries EXTI9\+\_\+5\+\_\+\+IRQHandler} (void)
\begin{DoxyCompactList}\small\item\em This function handles EXTI line\mbox{[}9\+:5\mbox{]} interrupts. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{buttons_8c_a0cd91fd3a9608559c2a87a8ba6cba55f}\label{buttons_8c_a0cd91fd3a9608559c2a87a8ba6cba55f}} 
void {\bfseries HAL\+\_\+\+GPIO\+\_\+\+EXTI\+\_\+\+Callback} (uint16\+\_\+t GPIO\+\_\+\+Pin)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{buttons_8c_ab27a37dd68a7cbbf68607b093c74768f}\label{buttons_8c_ab27a37dd68a7cbbf68607b093c74768f}} 
static uint8\+\_\+t {\bfseries buttons\+State} = 0x00
\item 
I2\+C\+\_\+\+Handle\+Type\+Def \mbox{\hyperlink{buttons_8c_af7b2c26e44dadaaa798a5c3d82914ba7}{hi2c1}}
\item 
\mbox{\Hypertarget{buttons_8c_a22b804736f5648d52f639b2647d4ed13}\label{buttons_8c_a22b804736f5648d52f639b2647d4ed13}} 
ADC\+\_\+\+Handle\+Type\+Def {\bfseries hadc1}
\item 
double \mbox{\hyperlink{buttons_8c_a3c8bc0bb4f045bfe78d1196cb786792c}{val}} = 0.\+0625
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Buttons functionality. 

\begin{DoxyAuthor}{Author}
K. Czechowicz, A. Rybojad, S. Ko≈Çodziejczyk 
\end{DoxyAuthor}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{buttons_8c_aa6f14b96c46b9c49fb96af8ff1533dc9}\label{buttons_8c_aa6f14b96c46b9c49fb96af8ff1533dc9}} 
\index{buttons.c@{buttons.c}!Set\_LED\_For\_Bistable@{Set\_LED\_For\_Bistable}}
\index{Set\_LED\_For\_Bistable@{Set\_LED\_For\_Bistable}!buttons.c@{buttons.c}}
\doxysubsubsection{\texorpdfstring{Set\_LED\_For\_Bistable()}{Set\_LED\_For\_Bistable()}}
{\footnotesize\ttfamily void Set\+\_\+\+LED\+\_\+\+For\+\_\+\+Bistable (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Sets LED lights state depending on bistable button. 

This functionality is used to indicate on the panel, whether bistable button is pressed. The function uses bit masks to read button state and sets proper I2C signal (according to I2C module documentation) which at the end is being written by the interrupt. 

\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{buttons_8c_af7b2c26e44dadaaa798a5c3d82914ba7}\label{buttons_8c_af7b2c26e44dadaaa798a5c3d82914ba7}} 
\index{buttons.c@{buttons.c}!hi2c1@{hi2c1}}
\index{hi2c1@{hi2c1}!buttons.c@{buttons.c}}
\doxysubsubsection{\texorpdfstring{hi2c1}{hi2c1}}
{\footnotesize\ttfamily I2\+C\+\_\+\+Handle\+Type\+Def hi2c1\hspace{0.3cm}{\ttfamily [extern]}}

I2C handler for GPIO expander module \mbox{\Hypertarget{buttons_8c_a3c8bc0bb4f045bfe78d1196cb786792c}\label{buttons_8c_a3c8bc0bb4f045bfe78d1196cb786792c}} 
\index{buttons.c@{buttons.c}!val@{val}}
\index{val@{val}!buttons.c@{buttons.c}}
\doxysubsubsection{\texorpdfstring{val}{val}}
{\footnotesize\ttfamily double val = 0.\+0625}

Upper value for joystick values divider raw value 